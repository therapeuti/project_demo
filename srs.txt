# 서비스 요구사항 정의서

## 1. 개요

### 1.1 목적

반려동물과의 상호작용을 통한 종합적인 반려동물 관리 및 커뮤니티 서비스 개발

### 1.2 범위

회원 관리, 반려동물 프로필 관리, AI 채팅, 일기 작성, 커뮤니티, 위치 기반 서비스를 포함한 통합 플랫폼


### 1.3 기술스택
프론트 : javascript, html, css
백엔드 : python flask
데이터베이스 : sqlite

## 2. 기능 요구사항

### 2.1 회원가입/로그인 (FR-001)

### 2.1.1 자체 회원가입 (FR-001-001)

- **입력 항목**: 이름, 이메일, 아이디, 닉네임, 비밀번호
- **검증 기능**:
    - 이메일 인증 (이메일 발송 및 인증 코드 확인)
    - 아이디 중복 확인
    - 비밀번호 확인 (일치성 검증)
- **제약사항**:
    - 이메일은 유효한 형식이어야 함
    - 아이디는 영문, 숫자 조합 4-20자
    - 비밀번호는 영문, 숫자, 특수문자 조합 8자 이상

### 2.1.2 소셜 로그인 (FR-001-002)

- **지원 플랫폼**: 카카오, 네이버, 구글
- **기능**: 각 플랫폼의 OAuth 연동을 통한 간편 회원가입/로그인

### 2.1.3 로그인 (FR-001-003)

- **지원 방식**: 자체 로그인, 소셜 로그인
- **보안**: 세션 관리, 자동 로그인 옵션

### 2.2 마이페이지 (FR-002)

### 2.2.1 사용자 프로필 (FR-002-001)

- **표시 정보**: 아이디, 닉네임, 반려동물 이름, 종류, 프로필 사진
- **편집 기능**:
    - 닉네임 수정 가능 (소셜 로그인 사용자 포함)
    - 프로필 사진 업로드/변경
- **소셜 연동**: 소셜 로그인 정보 자동 반영

### 2.2.2 반려동물 프로필 관리 (FR-002-002)

- **CRUD 기능**: 추가, 조회, 수정, 삭제
- **기본 정보**:
    - 이름 (필수)
    - 동물 종류 (대분류/소분류)
    - 프로필 사진
    - 성별
    - 중성화 유무
- **AI 채팅용 정보**:
    - 말투 설정
    - 사용자 호칭 설정 (선택사항)
    - 성격 설정
- **추가 정보** (선택사항):
    - 좋아하는 것
    - 싫어하는 것
    - 습관 및 행동양식
    - 특징
    - 가족관계
    - 기타 대화에 반영할 정보

### 2.3 메인 페이지 (FR-003)

### 2.3.1 추천 컨텐츠 (FR-003-001)

- **표시 항목**:
    - 좋아요 수 기준 인기 반려동물 일기 (공개된 것만)
    - 인기 커뮤니티 게시글
    - 반려동물 동반 가능 추천 장소
- **정렬**: 좋아요 수 내림차순

### 2.4 반려동물 케어 (FR-004)

### 2.4.1 건강 관리 (FR-004-001)

- **건강 정보 기록**:
    - 알러지 정보
    - 질병 이력
    - 수술 이력
    - 기타 건강 특이사항

### 2.4.2 루틴 관리 (FR-004-002)

- **투두리스트 형태**:
    - 약 복용 일정
    - 양치 일정
    - 기타 케어 루틴
- **산책 기록**:
    - 산책 시간 기록
    - 산책 경로 기록 (선택사항)

### 2.5 반려동물과 대화 (FR-005)

### 2.5.1 AI 챗봇 (FR-005-001)

- **페르소나 생성**: 반려동물 프로필 정보 기반 맞춤형 대화
- **프롬프트 설계**:
    - 반려동물의 특성 반영
    - 사용자 설정 말투/성격 적용
    - 현실적이고 친근한 대화 구현

### 2.5.2 음성 기능 (FR-005-002)

- **TTS (Text-to-Speech)**: 챗봇 응답을 음성으로 출력
- **음성 설정**: 사용자가 원하는 목소리 선택/설정

### 2.5.3 기능 연동 (FR-005-003)

- **Function Calling**: 대화를 통한 다른 기능 실행
- **연동 기능**:
    - 반려동물 케어 기능 실행
    - 일기 작성 유도
    - 기타 서비스 기능 연결

### 2.6 반려동물 일기 작성 (FR-006)

### 2.6.1 일기 구조 (FR-006-001)

- **1단계**: 반려동물 선택 (반려동물별 개별 일기장)
- **2단계**: 해당 반려동물의 일기 목록

### 2.6.2 일기 형식 (FR-006-002)

- **그림일기 형태**:
    - 제목
    - 날짜
    - 날씨 (날씨 API 연동)
    - 사진 (슬라이드 형식)
    - 일기 본문 (LLM 생성)

### 2.6.3 작성 프로세스 (FR-006-003)

1. 반려동물 선택
2. 기본 정보 입력 (제목, 사진 업로드)
3. 사용자가 간단한 내용 작성
4. LLM으로 반려동물 관점의 일기 생성
5. 미리보기 제공
6. 수정/재생성/저장 옵션 제공

### 2.6.4 추가 기능 (FR-006-004)

- **북마크**: 특정 일기 즐겨찾기
- **공개/비공개**: 일기 공개 설정
- **좋아요**: 공개된 일기에 좋아요
- **사용자 프로필**: 공개된 일기 확인 가능

### 2.7 커뮤니티 (FR-007)

### 2.7.1 게시판 구조 (FR-007-001)

- **1단계**: 전체 게시글 목록
- **2단계**: 개별 게시글 상세 페이지

### 2.7.2 게시 기능 (FR-007-002)

- **기본 기능**:
    - 게시글 작성/수정/삭제
    - 댓글 작성/수정/삭제
    - 대댓글 작성/수정/삭제
- **상호작용**:
    - 좋아요 기능
    - 좋아요 수 표시
- **분류**: 태그 시스템 (예: 산책해요, 꿀팁 등)

### 2.8 지도 서비스 (FR-008)

### 2.8.1 장소 정보 (FR-008-001)

- **기능**: 반려동물 관련 장소 검색 및 정보 제공
- **정보 공유**: 사용자 간 장소 정보 공유
- **리뷰**: 장소별 리뷰 작성 및 조회

### 2.9 여행지 정보 (FR-009)

### 2.9.1 여행지 서비스 (FR-009-001)

- **1단계**: 전체 여행지 목록
- **2단계**: 여행지 상세 정보
- **조건**: 반려동물 동반 가능한 여행지 정보 제공

## 3. 비기능 요구사항

### 3.1 성능 요구사항

- **응답시간**: 일반 페이지 로딩 3초 이내
- **AI 응답**: 챗봇 응답 5초 이내
- **이미지 업로드**: 10MB 이하 지원

### 3.2 보안 요구사항

- **데이터 암호화**: 개인정보 암호화 저장
- **세션 관리**: 안전한 세션 관리
- **API 보안**: API 키 관리 및 보안

### 3.3 호환성 요구사항

- **플랫폼**: 웹, 모바일 웹 지원
- **브라우저**: Chrome, Safari, Firefox 최신 버전 지원

## 4. 시스템 아키텍처

### 4.1 외부 연동

- **소셜 로그인**: 카카오, 네이버, 구글 OAuth
- **날씨 API**: 일기 작성용 날씨 정보
- **지도 API**: 장소 검색 및 위치 서비스
- **LLM API**: AI 대화 및 일기 생성
- **TTS API**: 음성 출력

### 4.2 데이터베이스

- **사용자 정보**: 회원 정보, 프로필
- **반려동물 정보**: 반려동물 프로필, 건강 정보
- **컨텐츠**: 일기, 커뮤니티 게시글
- **시스템**: 좋아요, 북마크, 태그 등

## 5. 개발 우선순위

### Phase 1 (핵심 기능)

1. 회원가입/로그인
2. 반려동물 프로필 관리
3. 기본 AI 대화 기능

### Phase 2 (주요 기능)

1. 일기 작성 기능
2. 커뮤니티 기능
3. 반려동물 케어 기능

### Phase 3 (부가 기능)

1. 지도 서비스
2. 여행지 정보
3. 고급 AI 기능 (Function Calling, TTS)

## 6.관리자 기능 개발 우선순위

### Phase 1 (최우선 - 즉시 필요)

**서비스 운영에 필수적인 핵심 기능**

1. **회원 관리 (FR-010-002)**
    - 회원 목록 조회/검색
    - 회원 상세 정보 확인
    - 기본적인 회원 상태 관리
2. **콘텐츠 관리 (FR-010-003)**
    - **게시물 관리**: 일기, 커뮤니티 글 조회/삭제
    - **태그 관리**: 커뮤니티 태그 생성/수정/삭제
    - 기본적인 콘텐츠 모니터링
3. **통계 및 분석 (FR-010-005)**
    - **회원 통계**: 가입자 수, 활성 사용자
    - **활동 통계**: 게시글 작성 수, 댓글 수, 좋아요 수
    - 기본 대시보드
4. **관리자 계정 관리 (FR-010-001)**
    - 기본적인 관리자 로그인
    - 권한 구분 (최소한 2단계: 운영자/관리자)